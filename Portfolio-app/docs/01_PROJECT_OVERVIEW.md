# 프로젝트 개요

> **Portfolio Manager App** - 멀티자산 포트폴리오 관리 서비스  
> 실시간 평가 · 비교 · 백테스트 · 리밸런싱 시뮬레이션 지원

---

## 📌 목표

다양한 자산(국내주식, 해외주식, ETF, 채권, 원자재 등)을 포함하는 **복수 포트폴리오**를 생성·관리하고 다음 기능을 제공합니다.

### 핵심 기능

- 🔄 **실시간 평가액 / 손익 계산**
- 📊 **포트폴리오 간 성과 비교**
- 📈 **시장 벤치마크 비교**
- ⚡ **전략 백테스트**
- 🎯 **리밸런싱 시뮬레이션**
- 📉 **리스크 지표 분석**

---

## 🎯 타깃 사용자

### Primary

- 국내주식 위주에서 해외ETF/원자재까지 확장하는 개인 투자자
- 여러 전략(성장/배당/모멘텀/헤지)을 포트폴리오로 분리해 관리하려는 사용자
- "내 성과가 시장 대비 어떤지" 정량 비교를 원하는 사용자

### Secondary

- 투자 스터디 그룹, 가족 자산 관리자
- 퀀트 전략 검증이 필요한 개인 투자자

---

## 💎 핵심 가치 제안

| 가치 | 설명 |
|------|------|
| 🎨 **멀티 포트폴리오 통합 뷰** | 여러 전략을 한 곳에서 관리 |
| 💱 **실시간 평가/환산** | 원화 기준 실시간 평가액 계산 |
| 📊 **정교한 비교** | 백테스트/벤치마크/기여도/리스크 비교 |
| 🎯 **정확한 원장 관리** | 거래 중심 Single Source of Truth |
| 🌐 **멀티 통화/자산 지원** | 처음부터 글로벌 자산 지원 |

---

## 🏗️ 시스템 아키텍처

```
┌─────────────────┐
│   Vue.js SPA    │  사용자 인터페이스
└────────┬────────┘
         │ REST API
┌────────▼────────┐
│ Spring Boot API │  비즈니스 로직
├─────────────────┤
│ • Portfolio     │
│ • Transaction   │
│ • Valuation     │
│ • Analytics     │
│ • Backtest      │
└────────┬────────┘
         │
    ┌────┴────┬──────────┬──────────┐
    ▼         ▼          ▼          ▼
┌─────────┐ ┌─────┐ ┌────────┐ ┌──────────┐
│PostgreSQL│ │Redis│ │RabbitMQ│ │ Pricing  │
│  원장    │ │캐시 │ │  큐    │ │   API    │
│ 시계열   │ │시세 │ │백테스트│ │ 시세/환율│
└─────────┘ └─────┘ └────────┘ └──────────┘
```

---

## 🎨 주요 화면

### 1. 대시보드
- 전체 자산 요약 (모든 포트폴리오 합산)
- 오늘 손익 / 누적 손익
- 포트폴리오 카드 목록
- 리밸런싱 필요 알림

### 2. 포트폴리오 상세
- 평가액 / 손익 표시
- 구성 (비중 차트 + 종목 테이블)
- 성과 (기간별 수익률 차트)
- 리스크 (MDD, 변동성, Sharpe 등)
- 거래 내역

### 3. 비교/분석
- 포트폴리오 간 성과 비교 (최대 5개)
- 벤치마크 비교 (최대 3개)
- 누적 수익률 차트
- 리스크 지표 테이블

### 4. 백테스트 스튜디오
- 전략 설정 (정적/주기/밴드 리밸런싱)
- 비용 모델 설정
- 실행 및 결과 분석
- 리밸런싱 로그

---

## 🚀 MVP 우선순위

### Phase 1 (MVP)
1. ✅ **거래 원장 + 평가 계산**
2. 🚧 **포트폴리오 UI**
3. ⏸️ **비교 차트**
4. ⏸️ **기본 백테스트** (정적 비중 + 주기 리밸런싱)
5. ⏸️ **리밸런싱 도구**

### Phase 2
6. ⏸️ **알림/인사이트**
7. ⏸️ **배당/이자 캘린더**
8. ⏸️ **상관/중복 분석**

### Phase 3 (확장)
9. ⏸️ **규칙 기반 전략** (모멘텀/변동성 타겟)
10. ⏸️ **증권사 연동** (자동 거래내역 불러오기)
11. ⏸️ **세금/수수료 정교화** (국가별)

---

## 📋 범위 정의

### ✅ 포함 (In Scope)

- 멀티 포트폴리오 생성/편집/비교
- 실시간 시세 기반 평가액/손익/환산
- 거래 입력 (수동) + 증권사 연동(추후)
- 백테스트 (전략/리밸런싱 규칙 기반)
- 리스크/성과 분석
- 알림 (리밸런싱/급락/목표비중 이탈)

### ❌ 제외 (Out of Scope - MVP)

- 실제 주문/매매 실행 (Trading)
- 레버리지/파생상품 (옵션·선물) 고급 마진 계산
- 복잡한 세법 시뮬레이션 (국가별 세율 자동 최적화)

---

## 🎓 용어 정의

| 용어 | 설명 |
|------|------|
| **상품 (Instrument)** | 주식/ETF/펀드/채권/원자재/현금 등 단일 종목 |
| **포지션 (Position)** | 특정 상품의 보유수량/평균단가/비중 |
| **거래 (Transaction)** | 매수/매도/입금/출금/배당/이자/수수료/세금 |
| **포트폴리오 (Portfolio)** | 포지션 집합 + 현금 + 운용규칙 |
| **벤치마크 (Benchmark)** | KOSPI, S&P500 등 비교 기준 지수 |
| **TWR** | Time-Weighted Return (시간가중수익률) |
| **MWR** | Money-Weighted Return (금액가중수익률, IRR) |
| **MDD** | Maximum Drawdown (최대 낙폭) |

---

## 🔐 보안 요구사항

### 인증/인가
- JWT Access + Refresh Token
- BCrypt 비밀번호 암호화
- OAuth 2.0 (추후: Google, Kakao)

### 데이터 보호
- 전송: TLS 1.3
- 저장: 민감정보 암호화 (KMS)
- 백업: 암호화 내보내기 (JSON/CSV)

### 개인정보
- 최소 수집 (이메일/닉네임)
- 투자 데이터 암호화 저장
- 계정 삭제 시 7일 유예 기간

---

## 📊 비기능 요구사항 (NFR)

### 성능
- 홈 로딩: 2초 이내 (캐시 활용)
- 실시간 평가 갱신: 백그라운드 처리
- 대시보드 렌더링: 60fps 유지

### 안정성
- 계산 엔진 단위 테스트 100% 커버리지
- 데이터 버전 관리 (백테스트 재현 가능)
- 장애 격리 (외부 API 실패 시 fallback)

### 접근성
- 숫자 가독성 (큰 금액 단위 축약 + 툴팁)
- 색맹 모드
- 키보드 네비게이션 지원

---

**문서 버전:** 1.0.0  
**작성일:** 2026-02-06  
**관련 문서:** [기능명세서](02_FUNCTIONAL_SPEC.md), [기술스택](03_TECH_STACK.md)
