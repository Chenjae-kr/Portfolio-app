ğŸ“Š Portfolio Manager App â€” ê°œë°œ ëª…ì„¸ì„œ (Spring Boot + Vue + PostgreSQL)

> ë©€í‹°ìì‚° í¬íŠ¸í´ë¦¬ì˜¤ ê´€ë¦¬ / ì‹¤ì‹œê°„ í‰ê°€ / ë¹„êµ / ë°±í…ŒìŠ¤íŠ¸ ì§€ì› ì„œë¹„ìŠ¤  
> Stack: Spring Boot Â· Java Â· Vue.js Â· PostgreSQL Â· Redis Â· RabbitMQ

---

# 0. í”„ë¡œì íŠ¸ ê°œìš”

## ëª©í‘œ

ë‹¤ì–‘í•œ ìì‚°(êµ­ë‚´ì£¼ì‹, í•´ì™¸ì£¼ì‹, ETF, ì±„ê¶Œ, ì›ìì¬ ë“±)ì„ í¬í•¨í•˜ëŠ” ë³µìˆ˜ í¬íŠ¸í´ë¦¬ì˜¤ë¥¼ ìƒì„±Â·ê´€ë¦¬í•˜ê³  ë‹¤ìŒ ê¸°ëŠ¥ì„ ì œê³µí•œë‹¤.

- ì‹¤ì‹œê°„ í‰ê°€ì•¡ / ì†ìµ ê³„ì‚°
    
- í¬íŠ¸í´ë¦¬ì˜¤ ê°„ ì„±ê³¼ ë¹„êµ
    
- ì‹œì¥ ë²¤ì¹˜ë§ˆí¬ ë¹„êµ
    
- ì „ëµ ë°±í…ŒìŠ¤íŠ¸
    
- ë¦¬ë°¸ëŸ°ì‹± ì‹œë®¬ë ˆì´ì…˜
    
- ë¦¬ìŠ¤í¬ ì§€í‘œ ë¶„ì„
    

---

# 1. ì•„í‚¤í…ì²˜ ê°œìš”

## 1.1 ì„œë¹„ìŠ¤ êµ¬ì„±

```
[ Vue.js SPA ]
      â†“ REST
[ Spring Boot API ]
      â†“
 â”œâ”€ Portfolio/Transaction Domain
 â”œâ”€ Valuation Engine
 â”œâ”€ Analytics Engine
 â”œâ”€ Backtest Engine (Async)
 â””â”€ Pricing/FX Client

[ PostgreSQL ] â€” ì›ì¥/ì‹œê³„ì—´/EOD
[ Redis ] â€” ì‹¤ì‹œê°„ ì‹œì„¸/í‰ê°€ ìºì‹œ
[ RabbitMQ ] â€” ë°±í…ŒìŠ¤íŠ¸/ì¬ê³„ì‚° í
```

---

# 2. ê¸°ìˆ  ìŠ¤íƒ

## Backend

- Java 21 (LTS)
    
- Spring Boot 3.x
    
- Spring Web / Validation / Security
    
- Spring Data JPA + Hibernate
    
- jOOQ (ì§‘ê³„/ë¶„ì„ ì¿¼ë¦¬)
    
- Springdoc OpenAPI
    
- Resilience4j
    
- Micrometer + Actuator
    

## Database

- PostgreSQL 16+
    
- Flyway migration
    
- íŒŒí‹°ì…”ë‹: price_bars (ì›”ë³„)
    

## Cache / Queue

- Redis 7
    
- RabbitMQ
    

## Frontend

- Vue 3 + TypeScript
    
- Vite
    
- Pinia
    
- Vue Router
    
- ECharts
    
- Axios
    

---

# 3. ë„ë©”ì¸ ëª¨ë¸

## í•µì‹¬ ì›ì¹™

- ê±°ë˜ ì›ì¥ ì¤‘ì‹¬ êµ¬ì¡°
    
- ê³„ì‚° ê²°ê³¼ëŠ” íŒŒìƒ ë°ì´í„°
    
- ì‹œì„¸/í™˜ìœ¨ì€ ì‹œì  ê¸°ë°˜
    

## ì£¼ìš” ì—”í‹°í‹°

### Portfolio

- id
    
- name
    
- base_currency
    
- type (REAL / STRATEGY / BACKTEST)
    
- group_id
    
- tags
    

### Instrument

- id
    
- ticker
    
- type (STOCK / ETF / BOND / COMMODITY)
    
- asset_class
    
- currency
    
- exchange
    

### Transaction

- id
    
- portfolio_id
    
- occurred_at
    
- type (BUY/SELL/DIVIDEND/FEE ë“±)
    
- status
    
- note
    

### TransactionLeg

- transaction_id
    
- leg_type (ASSET/CASH/FEE/TAX)
    
- instrument_id
    
- quantity
    
- price
    
- amount
    
- currency
    
- fx_rate_to_base
    

### PriceBar

- instrument_id
    
- timeframe
    
- ts
    
- open/high/low/close
    
- adj_close
    

### FXRate

- base
    
- quote
    
- ts
    
- rate
    

---

# 4. í¬íŠ¸í´ë¦¬ì˜¤ ê¸°ëŠ¥

## ìƒì„±

- ì´ë¦„
    
- ê¸°ì¤€í†µí™”
    
- ìœ í˜•
    
- ê·¸ë£¹
    
- íƒœê·¸
    

## ëª©í‘œë¹„ì¤‘

- ì¢…ëª©ë³„ weight
    
- ìì‚°êµ° cap
    
- í˜„ê¸ˆ ìµœì†Œë¹„ì¤‘
    
- í•©ê³„ = 100% ê²€ì¦
    

## ë³µì œ

- êµ¬ì„± ë³µì‚¬
    
- ìŠ¤ëƒ…ìƒ· ì €ì¥
    

---

# 5. ê±°ë˜ ê¸°ëŠ¥

## ì§€ì› íƒ€ì…

- BUY
    
- SELL
    
- DIVIDEND
    
- INTEREST
    
- FEE
    
- TAX
    
- DEPOSIT
    
- WITHDRAW
    
- FX_CONVERT
    

## ê²€ì¦ ê·œì¹™

- legs í•©ê³„ = 0 (í†µí™” ê¸°ì¤€)
    
- BUY/SELLì€ ASSET leg í•„ìˆ˜
    
- ìˆ˜ìˆ˜ë£ŒëŠ” ë³„ë„ leg
    

---

# 6. í‰ê°€(Valuation) ì—”ì§„

## ê³„ì‚°ì‹

### ì‹œì¥ê°€ì¹˜

```
MV = qty Ã— last_price
```

### ê¸°ì¤€í†µí™” í™˜ì‚°

```
MV_base = MV Ã— FX
```

### ì´ í‰ê°€ì•¡

```
Total = Î£ MV_base + Cash
```

## ê°€ê²© ì„ íƒ ì •ì±…

- REALTIME â†’ Redis tick
    
- fallback â†’ last close
    

## í™˜ìœ¨

- Redis ìµœì‹ 
    
- fallback â†’ EOD
    

---

# 7. ìˆ˜ìµë¥  ê³„ì‚°

## TWR

- í˜„ê¸ˆíë¦„ ê¸°ì¤€ êµ¬ê°„ ë¶„í• 
    
- êµ¬ê°„ ìˆ˜ìµë¥  ê³±
    

## MWR (IRR)

- í˜„ê¸ˆíë¦„ ì‹œê³„ì—´ IRR ê³„ì‚°
    

---

# 8. ë¦¬ìŠ¤í¬ ì§€í‘œ

- Volatility
    
- MDD
    
- Sharpe
    
- Sortino
    
- Beta
    
- Tracking Error
    

---

# 9. í¬íŠ¸í´ë¦¬ì˜¤ ë¹„êµ ê¸°ëŠ¥

## ì…ë ¥

- í¬íŠ¸í´ë¦¬ì˜¤ ìµœëŒ€ 5ê°œ
    
- ë²¤ì¹˜ë§ˆí¬ ìµœëŒ€ 3ê°œ
    
- ê¸°ê°„
    
- ìˆ˜ìµë¥  íƒ€ì…
    

## ì¶œë ¥

- ëˆ„ì  ìˆ˜ìµë¥  ì°¨íŠ¸
    
- ë“œë¡œë‹¤ìš´ ì°¨íŠ¸
    
- ì§€í‘œ í…Œì´ë¸”
    

---

# 10. ë°±í…ŒìŠ¤íŠ¸ ì—”ì§„

## ìœ í˜•

- Static Allocation
    
- Periodic Rebalance
    
- Band Rebalance
    

## íŒŒë¼ë¯¸í„°

- ê¸°ê°„
    
- ì´ˆê¸°ìë³¸
    
- ìˆ˜ìˆ˜ë£Œ
    
- ìŠ¬ë¦¬í”¼ì§€
    
- ì„¸ê¸ˆ
    
- ë°°ë‹¹ ì¬íˆ¬ì
    

## ê²°ê³¼

- equity curve
    
- drawdown
    
- ì—°ë„ë³„ ì„±ê³¼
    
- ê±°ë˜ ë¡œê·¸
    

---

# 11. API ì„¤ê³„ ìš”ì•½

## Portfolio

```
GET   /api/v1/portfolios
POST  /api/v1/portfolios
GET   /api/v1/portfolios/{id}
```

## Transactions

```
GET   /portfolios/{id}/transactions
POST  /portfolios/{id}/transactions
POST  /transactions/{id}/void
```

## Valuation

```
GET /portfolios/{id}/valuation?mode=REALTIME
```

## Compare

```
POST /compare/performance
```

## Backtest

```
POST /backtests/runs
GET  /backtests/runs/{id}
```

---

# 12. Redis ìºì‹œ í‚¤ ì„¤ê³„

```
tick:{instrument}
fx:{base}:{quote}
val:{portfolio}:realtime
val:{portfolio}:eod
```

TTL:

- tick: 120s
    
- fx: 300s
    
- valuation: 20s
    

---

# 13. ë°°ì¹˜/ë¹„ë™ê¸° ì‘ì—…

## ìŠ¤ì¼€ì¤„

- EOD ê°€ê²© ì ì¬
    
- FX ì ì¬
    
- valuation snapshot ìƒì„±
    

## ì´ë²¤íŠ¸ íŠ¸ë¦¬ê±°

- ê±°ë˜ ë³€ê²½ â†’ ì¬ê³„ì‚° ìš”ì²­ ì´ë²¤íŠ¸
    

## í ì‘ì—…

- ë°±í…ŒìŠ¤íŠ¸ ì‹¤í–‰
    
- ëŒ€ëŸ‰ ì¬í‰ê°€
    

---

# 14. í”„ë¡ íŠ¸ì—”ë“œ êµ¬ì¡°

## ë¼ìš°íŠ¸

```
/dashboard
/portfolio/:id
/compare
/backtest
/instrument/:id
```

## ìƒíƒœê´€ë¦¬(Pinia)

- authStore
    
- portfolioStore
    
- valuationStore
    
- compareStore
    
- backtestStore
    

---

# 15. ì£¼ìš” í™”ë©´ ìƒíƒœ ì •ì˜

## Loading

- skeleton UI
    

## Empty

- CTA ë²„íŠ¼ í‘œì‹œ
    

## Data stale

- â€œì‹œì„¸ ì§€ì—°â€ ë°°ì§€
    

## Error

- fallback ê°’ + ì¬ì‹œë„
    

---

# 16. ë³´ì•ˆ

- JWT access/refresh
    
- 2FA ì˜µì…˜
    
- HTTPS í•„ìˆ˜
    
- DB ì•”í˜¸í™”
    
- API rate limit
    

---

# 17. ìš´ì˜/ê´€ì¸¡

- Actuator health
    
- Prometheus metrics
    
- ë¡œê·¸ JSON
    
- ì—ëŸ¬ ì¶”ì 
    

---

# 18. MVP ìš°ì„ ìˆœìœ„

1ï¸âƒ£ ê±°ë˜ ì›ì¥ + í‰ê°€ ê³„ì‚°  
2ï¸âƒ£ í¬íŠ¸í´ë¦¬ì˜¤ UI  
3ï¸âƒ£ ë¹„êµ ì°¨íŠ¸  
4ï¸âƒ£ ë°±í…ŒìŠ¤íŠ¸ ê¸°ë³¸í˜•  
5ï¸âƒ£ ë¦¬ë°¸ëŸ°ì‹± ë„êµ¬  
6ï¸âƒ£ ì•Œë¦¼/ì¸ì‚¬ì´íŠ¸

---

ì›í•˜ë©´ ë‹¤ìŒ ë‹¨ê³„ë¡œ ë°”ë¡œ ì´ì–´ì„œ ë§Œë“¤ì–´ ì¤„ ìˆ˜ ìˆìŠµë‹ˆë‹¤:

- âœ… docker-compose ê°œë°œí™˜ê²½ íŒŒì¼
    
- âœ… Spring Boot ë©€í‹°ëª¨ë“ˆ í”„ë¡œì íŠ¸ êµ¬ì¡°
    
- âœ… í•µì‹¬ ê³„ì‚° ì—”ì§„ Java ì½”ë“œ ìŠ¤ì¼ˆë ˆí†¤
    
- âœ… Vue í™”ë©´ ì»´í¬ë„ŒíŠ¸ íŠ¸ë¦¬ ì„¤ê³„
    
- âœ… QA í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ ë¬¸ì„œ
    

ì›í•˜ëŠ” ë‹¤ìŒ ì‚°ì¶œë¬¼ì„ ë§í•´ ì£¼ì„¸ìš”.